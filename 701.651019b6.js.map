{"version":3,"file":"js/701.651019b6.js","mappings":"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","sources":["webpack://web/./src/views/login.vue","webpack://web/src/views/login.vue","webpack://web/./src/views/login.vue?568d","webpack://web/./src/views/login.vue?512a"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"login-container\",attrs:{\"rules\":_vm.rules,\"model\":_vm.loginForm,\"label-position\":\"left\",\"label-width\":\"0px\"}},[_c('h3',{staticClass:\"login_title\"},[_vm._v(\"系统登录\")]),_c('el-form-item',{attrs:{\"prop\":\"username\"}},[_c('el-input',{attrs:{\"type\":\"text\",\"auto-complete\":\"off\",\"placeholder\":\"账号\",\"clearable\":\"\"},model:{value:(_vm.loginForm.username),callback:function ($$v) {_vm.$set(_vm.loginForm, \"username\", $$v)},expression:\"loginForm.username\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"密码\",\"clearable\":\"\",\"show-password\":\"\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('el-checkbox',{staticClass:\"login_remember\",attrs:{\"label-position\":\"left\"},model:{value:(_vm.checked),callback:function ($$v) {_vm.checked=$$v},expression:\"checked\"}},[_vm._v(\"记住密码\")]),_c('el-form-item',{staticStyle:{\"width\":\"100%\"}},[_c('el-button',{staticStyle:{\"width\":\"100%\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitClick.apply(null, arguments)}}},[_vm._v(\"登录\")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-form\r\n    :rules=\"rules\"\r\n    :model=\"loginForm\"\r\n    class=\"login-container\"\r\n    label-position=\"left\"\r\n    label-width=\"0px\"\r\n    v-loading=\"loading\"\r\n  >\r\n    <h3 class=\"login_title\">系统登录</h3>\r\n    <el-form-item prop=\"username\">\r\n      <el-input\r\n        type=\"text\"\r\n        v-model=\"loginForm.username\"\r\n        auto-complete=\"off\"\r\n        placeholder=\"账号\"\r\n        clearable\r\n      ></el-input>\r\n    </el-form-item>\r\n    <el-form-item prop=\"password\">\r\n      <el-input\r\n        type=\"password\"\r\n        v-model=\"loginForm.password\"\r\n        placeholder=\"密码\"\r\n        clearable\r\n        show-password\r\n      ></el-input>\r\n    </el-form-item>\r\n    <el-checkbox class=\"login_remember\" v-model=\"checked\" label-position=\"left\"\r\n      >记住密码</el-checkbox\r\n    >\r\n    <el-form-item style=\"width: 100%\">\r\n      <el-button type=\"primary\" @click.prevent=\"submitClick\" style=\"width: 100%\"\r\n        >登录</el-button\r\n      >\r\n    </el-form-item>\r\n  </el-form>\r\n</template>\r\n<script>\r\nimport { doLogin } from \"@/api/api\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      rules: {\r\n        username: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" },\r\n          {\r\n            pattern: /^[a-zA-Z][a-zA-Z0-9_]{4,15}$/,\r\n            message: \"字母开头，允许5-16字节，允许字母数字下划线\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          { required: true, message: \"请输入密码\", trigger: \"blur\" },\r\n          {\r\n            pattern: /^[a-zA-Z]\\w{5,17}$/,\r\n            message: \"以字母开头，长度在6~18之间，只能包含字母、数字和下划线\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n      checked: true,\r\n      loginForm: {\r\n        username: \"test\",\r\n        password: \"123456\",\r\n      },\r\n      loading: false,\r\n    };\r\n  },\r\n  created() {\r\n    var _this = this;\r\n    // 在页面加载时从cookie获取登录信息\r\n    let userName = _this.getCookie(\"userName\");\r\n    //console.log (userName);\r\n    let userPwd = _this.getCookie(\"userPwd\");\r\n    //console.log (userPwd);\r\n\r\n    // 如果存在赋值给表单，并且将记住密码勾选\r\n    if (userName) {\r\n      _this.loginForm.username = userName;\r\n      _this.loginForm.password = userPwd;\r\n      _this.checked = true;\r\n    }\r\n  },\r\n  methods: {\r\n    getCookie: function (key) {\r\n      if (document.cookie.length > 0) {\r\n        var start = document.cookie.indexOf(key + \"=\");\r\n        if (start !== -1) {\r\n          start = start + key.length + 1;\r\n          var end = document.cookie.indexOf(\";\", start);\r\n          if (end === -1) end = document.cookie.length;\r\n          return unescape(document.cookie.substring(start, end));\r\n        }\r\n      }\r\n      return \"\";\r\n    },\r\n    // 保存cookie\r\n    setCookie(cName, value, expiredays) {\r\n      var exdate = new Date();\r\n      exdate.setDate(exdate.getDate() + expiredays);\r\n      document.cookie =\r\n        cName +\r\n        \"=\" +\r\n        decodeURIComponent(value) +\r\n        (expiredays == null ? \"\" : \";expires=\" + exdate.toGMTString());\r\n    },\r\n    // submitClick: function () {\r\n    //   var _this = this;\r\n    //   this.loading = true;\r\n    //   if (\r\n    //     _this.loginForm.username == \"test\" &&\r\n    //     _this.loginForm.password == \"123456\"\r\n    //   ) {\r\n    //     _this.$router.replace({ path: \"/layout\" });\r\n    //   }\r\n    //   this.$root.isAdmin = true;\r\n    // },\r\n    submitClick() {\r\n      doLogin(this.loginForm.username, this.loginForm.password).then((res) => {\r\n        console.log(res);\r\n        console.log('res.data',res.data);\r\n        let key = Object.keys(res.data)[0]\r\n        let token  = Object.values(res.data)[0]\r\n        if (res.status === 200) {\r\n          console.log(\"登录成功\");\r\n          // 存储token到浏览器\r\n          localStorage.setItem(key, token);\r\n          this.$router.replace({ path: \"/layout\" });\r\n        } else {\r\n          // Message.error(res.data.resultMsg);\r\n          console.log(\"错误\");\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.login-container {\r\n  border-radius: 15px;\r\n  background-clip: padding-box;\r\n  margin: 180px auto;\r\n  width: 350px;\r\n  padding: 35px 35px 15px 35px;\r\n  background: #fff;\r\n  border: 1px solid #eaeaea;\r\n  box-shadow: 0 0 25px #cac6c6;\r\n}\r\n\r\n.login_title {\r\n  margin: 0px auto 40px auto;\r\n  text-align: center;\r\n  color: #505458;\r\n}\r\n\r\n.login_remember {\r\n  margin: 0px 0px 35px 0px;\r\n  text-align: left;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=62cb1978&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&id=62cb1978&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loading","expression","staticClass","attrs","rules","loginForm","_v","model","username","callback","$$v","$set","password","checked","staticStyle","on","$event","preventDefault","submitClick","apply","arguments","staticRenderFns","data","required","message","trigger","pattern","created","_this","userName","getCookie","userPwd","methods","key","document","cookie","length","start","indexOf","end","unescape","substring","setCookie","cName","expiredays","exdate","Date","setDate","getDate","decodeURIComponent","toGMTString","doLogin","then","res","console","log","Object","keys","token","values","status","localStorage","setItem","$router","replace","path","component"],"sourceRoot":""}